apiVersion: v1
kind: ConfigMap
metadata:
  name: fleet-manager-gitops-config
  namespace: "$ACSCS_NAMESPACE"
data:
  config.yaml: |
    rhacsOperators:

      crdUrls:
        - https://raw.githubusercontent.com/stackrox/stackrox/4.2.1/operator/bundle/manifests/platform.stackrox.io_securedclusters.yaml
        - https://raw.githubusercontent.com/stackrox/stackrox/4.2.1/operator/bundle/manifests/platform.stackrox.io_centrals.yaml

      operators:

        - deploymentName: "rhacs-operator-4.2.2-rc.0"
          image: "quay.io/rhacs-eng/stackrox-operator:4.2.2-rc.0"
          centralLabelSelector: "rhacs.redhat.com/version-selector=4.2.2-rc.0"
          securedClusterReconcilerEnabled: false

    centrals:
      overrides:
        - instanceIds:
            - "*"
          patch: |
            metadata:
              labels:
                rhacs.redhat.com/version-selector: "4.2.2-rc.0"

        - instanceIds:
            - "*"
          patch: |
            spec:
              monitoring:
                exposeEndpoint: Disabled
                openshift:
                  enabled: false
              central:
                resources:
                  limits:
                    cpu: 1000m
                    memory: 1000Mi
                  requests:
                    cpu: 50m
                    memory: 20Mi
                db:
                  resources:
                    limits:
                      cpu: 1000m
                      memory: 1000Mi
                    requests:
                      cpu: 50m
                      memory: 50Mi
              scanner:
                analyzer:
                  resources:
                    limits:
                      cpu: 1000m
                      memory: 1000Mi
                    requests:
                      cpu: 50m
                      memory: 50Mi
                  scaling:
                    autoScaling: "Disabled"
                    replicas: 1
                db:
                  resources:
                    limits:
                      cpu: 1000m
                      memory: 1000Mi
                    requests:
                      cpu: 50m
                      memory: 50Mi
